ldh 0     # r0: cnt
mov 0     
ldh 1     # r1: rem[15:8]
mov 0
ldh 2     # r2: rem[7:0]
mov 1
ldh 3     # r3: ret[15:8]
mov 0
ldh 4     # r4: ret[7:0]
mov 0
ldh 5     # r5: bit[15:8], r6: bit[7:0]
mov 1
ldh 9     # r9: tmp
mov 7
ldh 4
ldl 9
lsl 5
ldh 6
mov 0
ldh 7     # r7: dvr[15:8]
ldl 7
mov 8
ldb 0
ldh 8     # r8: dvr[7:0]
ldl 7
mov 9
ldb 0
ldh 10    # r10: tmp
mov 1
ldl 0
add 10
ldh 15
mov 1
ldh 9
mov 15
ldl 15
add 9
ldh 0
ldl 9
slt 9
ldh 8
ldl 10
jmp 9
ldh 7
ldl 1
slt 9
ldh 0
ldl 13
jmp 9
ldh 10
ldl 7
slt 9
ldh 2
ldl 15
jmp 9
ldh 2
ldl 8
slt 9
ldh 3
ldl 9
jmp 9
ldh 15
mov 4
ldh 9
mov 15
ldl 15
lsl 9
ldh 15
mov 15
ldl 9
add 9
ldh 9
ldl 7
xor 7
ldl 8
xor 8
ldh 9
mov 1
add 8
ldh 7
ldl 12
add 7
ldh 2
ldl 8
add 2
ldh 1
ldl 12
add 1
ldl 7
add 1
ldh 15 
mov 4
ldh 9
mov 15
ldl 15
lsl 9
ldh 15
mov 15
ldl 9
add 9
ldh 9
ldl 7
xor 7
ldl 8
xor 8
ldh 9
mov 1
add 8
ldh 7
ldl 12
add 7
ldh 2
ldl 6
xor 2
ldh 1
ldl 5
xor 1
ldh 9
ldl 10
slt 5
ldh 9
mov 2
ldh 5
ldl 9
slt 10
ldh 1
ldl 10
jmp 10
ldh 2
ldl 4
jmp 10
ldh 9
mov 0
ldl 0
add 5
add 2
ldh 9
mov 1
ldl 2
add 2
ldh 9
mov 7
ldh 2
ldl 9
lsl 2
ldh 9
mov 1
ldl 11      # r11: tmp
add 11
mov 1
ldh 0
ldl 14
jmp 9
ldh 9
mov 1
ldh 5
ldl 9
lsr 5
ldh 2
ldl 9
lsl 2
ldh 9
mov 1
ldh 0
ldl 6
jmp 9
ldh 6
ldl 9
lsr 6
ldh 1
ldl 9
ldh 9
mov 1
ldl 0
add 0
ldh 9
mov 1
ldh 8
ldl 3
jmp 9
ldh 9       # store MSB of ret to M[10]
mov 10
ldh 3
ldl 9
str 0
ldh 9
mov 11
ldh 4
ldl 9
str 0       # store MSB of ret to M[11]
hlt
